<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Biagio Castiglione Tattoo Booking</title>
    <!-- Font Google -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-black: #000000;
            --card-bg: rgba(17, 17, 17, 0.9);
            --border-gray: #333333;
            --accent-white: #ffffff;
            --text-main: #ffffff;
            --text-dim: #bbbbbb;
        }

        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            font-family: 'Inter', sans-serif;
        }

        body, html {
            margin: 0; padding: 0;
            background-color: var(--bg-black);
            color: var(--text-main);
            height: 100%;
            width: 100%;
            overflow: hidden;
        }

        /* SFONDO */
        .bg-image {
            position: fixed;
            top: 0; left: 0; 
            width: 100%; height: 100%;
            background-image: url('background.jpg'); 
            background-size: cover;
            background-position: center;
            z-index: -5; 
            background-color: #000;
        }

        .bg-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to bottom, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0.98) 100%);
            z-index: -4;
        }

        /* PROGRESS BAR */
        .progress-bar-container {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 4px;
            background: rgba(255,255,255,0.1);
            z-index: 100;
        }

        #progress-fill {
            height: 100%;
            width: 0%;
            background: var(--accent-white);
            box-shadow: 0 0 10px var(--accent-white);
            transition: width 0.5s ease;
        }

        /* SLIDER */
        .main-slider {
            display: flex;
            width: 700%; 
            height: 100%;
            transition: transform 0.6s cubic-bezier(0.85, 0, 0.15, 1);
        }

        section {
            width: 100vw;
            height: 100vh;
            padding: 30px 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            flex-shrink: 0;
        }

        .content-wrapper {
            width: 100%;
            max-width: 450px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* LOGO */
        .logo-container {
            width: 130px;
            height: 130px;
            margin-bottom: 25px;
            border-radius: 50%;
            overflow: hidden;
            border: 2px solid var(--accent-white);
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        h2 {
            font-size: 1.8rem;
            font-weight: 900;
            margin: 0 0 12px 0;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        p.subtitle {
            color: var(--text-dim);
            text-align: center;
            margin: 0 0 30px 0;
            font-size: 0.85rem;
            max-width: 320px;
            line-height: 1.5;
        }

        /* PULSANTI */
        .option-grid {
            width: 100%;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .full-width {
            grid-column: span 2;
        }

        .option-btn {
            background: var(--card-bg);
            border: 1px solid var(--border-gray);
            padding: 18px 10px;
            border-radius: 8px;
            color: white;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            display: flex;
            flex-direction: column;
            gap: 6px;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }

        .option-btn .label { font-weight: 800; font-size: 0.85rem; }
        .option-btn .sub-label { font-size: 0.65rem; opacity: 0.7; }

        .option-btn.selected {
            border-color: var(--accent-white);
            background: var(--accent-white);
            color: black;
        }

        /* STILI CARDS CON IMMAGINI */
        .style-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            width: 100%;
            max-height: 60vh;
            overflow-y: auto;
        }

        .style-card {
            background: var(--card-bg);
            border: 1px solid var(--border-gray);
            border-radius: 12px;
            overflow: hidden;
            cursor: pointer;
            position: relative;
            height: 120px;
            transition: border-color 0.3s;
        }

        .style-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: brightness(0.5);
            transition: filter 0.3s;
        }

        .style-card.selected { border-color: var(--accent-white); }
        .style-card.selected img { filter: brightness(0.7); }

        .style-card .info {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-weight: 900;
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 1.5px;
            text-align: center;
            width: 90%;
            text-shadow: 0 2px 10px rgba(0,0,0,0.8);
        }

        /* DISPONIBILIT√Ä */
        .selection-label {
            width: 100%;
            font-size: 0.7rem;
            font-weight: 800;
            text-transform: uppercase;
            color: var(--text-dim);
            margin: 20px 0 10px 0;
            text-align: center;
        }

        .days-row {
            display: flex;
            justify-content: space-between;
            width: 100%;
            gap: 4px;
            margin-bottom: 10px;
        }

        .day-btn {
            flex: 1;
            padding: 12px 0;
            font-size: 0.65rem;
            border-radius: 6px;
            font-weight: 900;
        }

        .times-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            width: 100%;
        }
        
        .time-btn {
            font-weight: 900;
        }

        input[type="text"], textarea {
            width: 100%;
            background: var(--card-bg);
            border: 1px solid var(--border-gray);
            padding: 18px;
            border-radius: 8px;
            color: white;
            font-size: 1rem;
            outline: none;
            text-align: center;
            margin-bottom: 15px;
        }

        textarea { text-align: left; height: 110px; }

        .btn-primary {
            background: var(--accent-white);
            border: none;
            padding: 20px;
            border-radius: 8px;
            color: black;
            font-weight: 900;
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            width: 100%;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(255,255,255,0.2);
        }

        .btn-back {
            background: transparent;
            color: var(--text-dim);
            border: none;
            font-size: 0.75rem;
            margin-top: 25px;
            text-decoration: underline;
            cursor: pointer;
        }
    </style>
</head>
<body>

    <div class="bg-image"></div>
    <div class="bg-overlay"></div>
    <div class="progress-bar-container"><div id="progress-fill"></div></div>

    <div class="main-slider" id="slider">
        
        <!-- STEP 0: START -->
        <section>
            <div class="content-wrapper">
                <div class="logo-container">
                    <img src="biagio.jpeg" alt="Logo Biagio Castiglione" onerror="this.src='https://images.unsplash.com/photo-1598371839696-5c5bb00bdc28?w=300'">
                </div>
                <h2>Biagio Castiglione</h2>
                <p class="subtitle">Prenota ora il tuo tatuaggio</p>
                <button class="btn-primary" onclick="nextStep()">INIZIA</button>
            </div>
        </section>

        <!-- STEP 1: DIMENSIONE -->
        <section>
            <div class="content-wrapper">
                <h2>Grandezza</h2>
                <p class="subtitle">Indica la dimensione approssimativa</p>
                <div class="option-grid">
                    <div class="option-btn" onclick="selectOption('size', 'Piccolo', this)">
                        <span class="label">Piccolo</span><span class="sub-label">Fino a 5cm</span>
                    </div>
                    <div class="option-btn" onclick="selectOption('size', 'Medio', this)">
                        <span class="label">Medio</span><span class="sub-label">Fino a 10cm</span>
                    </div>
                    <div class="option-btn" onclick="selectOption('size', 'Grande', this)">
                        <span class="label">Grande</span><span class="sub-label">Oltre 15cm</span>
                    </div>
                    <div class="option-btn" onclick="selectOption('size', 'Intero', this)">
                        <span class="label">Intero</span><span class="sub-label">Arto completo</span>
                    </div>
                </div>
                <button class="btn-back" onclick="prevStep()">Torna Indietro</button>
            </div>
        </section>

        <!-- STEP 2: STILE -->
        <section>
            <div class="content-wrapper">
                <h2>Stile</h2>
                <p class="subtitle">Seleziona lo stile desiderato</p>
                <div class="style-grid">
                    <div class="style-card" onclick="selectOption('style', 'Ornamentale/Geometrico/Blackwork', this)">
                        <img src="blackwork.jpg" alt="Stile Ornamentale" onerror="this.src='https://images.unsplash.com/photo-1611501275019-9b5cda994e8d?w=400'">
                        <div class="info">Ornamentale / Geometrico / Blackwork</div>
                    </div>
                    <div class="style-card" onclick="selectOption('style', 'Fine Line', this)">
                        <img src="fineline.jpg" alt="Stile Fine Line" onerror="this.src='https://images.unsplash.com/photo-1560707303-4e980ce876ad?w=400'">
                        <div class="info">Fine Line</div>
                    </div>
                    <div class="style-card" onclick="selectOption('style', 'Altro', this)">
                        <img src="altro.jpeg" alt="Altro Stile" onerror="this.src='https://images.unsplash.com/photo-1550684848-fac1c5b4e853?w=400'">
                        <div class="info">Altro</div>
                    </div>
                </div>
                <button class="btn-back" onclick="prevStep()">Indietro</button>
            </div>
        </section>

        <!-- STEP 3: STATO PROGETTO -->
        <section>
            <div class="content-wrapper">
                <h2>Idea Progetto</h2>
                <p class="subtitle">A che punto √® la tua idea?</p>
                <div class="option-grid">
                    <div class="option-btn" onclick="selectOption('status', 'Ho il disegno', this)"><span class="label">Ho il disegno</span></div>
                    <div class="option-btn" onclick="selectOption('status', 'Ho un\'idea', this)"><span class="label">Ho un'idea</span></div>
                    <div class="option-btn full-width" onclick="selectOption('status', 'Consulenza', this)"><span class="label">Voglio una consulenza</span></div>
                </div>
                <button class="btn-back" onclick="prevStep()">Indietro</button>
            </div>
        </section>

        <!-- STEP 4: DISPONIBILIT√Ä -->
        <section>
            <div class="content-wrapper">
                <h2>Disponibilit√†</h2>
                <p class="subtitle">Quando preferiresti venire in studio?</p>
                
                <div class="option-btn full-width" id="btn-always" onclick="toggleAlwaysAvailable()" style="margin-bottom: 15px;">
                    <span class="label">Sempre Disponibile</span>
                </div>

                <div class="selection-label">Giorni preferiti</div>
                <div class="days-row">
                    <div class="option-btn day-btn" onclick="toggleSelection('days', 'Lun', this)">Lun</div>
                    <div class="option-btn day-btn" onclick="toggleSelection('days', 'Mar', this)">Mar</div>
                    <div class="option-btn day-btn" onclick="toggleSelection('days', 'Mer', this)">Mer</div>
                    <div class="option-btn day-btn" onclick="toggleSelection('days', 'Gio', this)">Gio</div>
                    <div class="option-btn day-btn" onclick="toggleSelection('days', 'Ven', this)">Ven</div>
                    <div class="option-btn day-btn" onclick="toggleSelection('days', 'Sab', this)">Sab</div>
                    <div class="option-btn day-btn" onclick="toggleSelection('days', 'Dom', this)">Dom</div>
                </div>

                <div class="selection-label">Fascia oraria</div>
                <div class="times-grid">
                    <div class="option-btn time-btn" onclick="toggleSelection('times', 'Mattina', this)">Mattina</div>
                    <div class="option-btn time-btn" onclick="toggleSelection('times', 'Pome', this)">Pome</div>
                    <div class="option-btn time-btn" onclick="toggleSelection('times', 'Sera', this)">Sera</div>
                </div>

                <button class="btn-primary" onclick="validateAvailability()" style="margin-top: 25px;">Continua</button>
                <button class="btn-back" onclick="prevStep()">Indietro</button>
            </div>
        </section>

        <!-- STEP 5: NOTE -->
        <section>
            <div class="content-wrapper">
                <h2>Note</h2>
                <p class="subtitle">Dettagli extra (posizione, allergie, etc)</p>
                <textarea id="notes" placeholder="Scrivi qui eventuali dettagli utili..."></textarea>
                <button class="btn-primary" onclick="nextStep()">Continua</button>
                <button class="btn-back" onclick="prevStep()">Indietro</button>
            </div>
        </section>

        <!-- STEP 6: FINALE -->
        <section>
            <div class="content-wrapper">
                <h2>PRENOTA</h2>
                <p class="subtitle">Inserisci il tuo nome per inviare la richiesta</p>
                <input type="text" id="name" placeholder="IL TUO NOME">
                <button class="btn-primary" onclick="sendWA()">Invia Richiesta</button>
                <button class="btn-back" onclick="prevStep()">Indietro</button>
            </div>
        </section>

    </div>

    <script>
        let step = 0;
        const totalSteps = 6;
        let data = { size: '', style: '', status: '', days: [], times: [], notes: '', name: '' };

        function updateUI() {
            document.getElementById('slider').style.transform = `translateX(-${step * 100}vw)`;
            document.getElementById('progress-fill').style.width = `${(step / totalSteps) * 100}%`;
        }

        function nextStep() { step++; updateUI(); }
        function prevStep() { step--; updateUI(); }

        function selectOption(key, val, el) {
            data[key] = val;
            el.closest('section').querySelectorAll('.option-btn, .style-card').forEach(b => b.classList.remove('selected'));
            el.classList.add('selected');
            setTimeout(nextStep, 250);
        }

        function toggleSelection(key, val, el) {
            const idx = data[key].indexOf(val);
            if (idx > -1) { 
                data[key].splice(idx, 1); 
                el.classList.remove('selected'); 
            } else { 
                data[key].push(val); 
                el.classList.add('selected'); 
            }
            document.getElementById('btn-always').classList.remove('selected');
        }

        function toggleAlwaysAvailable() {
            const btn = document.getElementById('btn-always');
            const allDays = ['Lun', 'Mar', 'Mer', 'Gio', 'Ven', 'Sab', 'Dom'];
            const allTimes = ['Mattina', 'Pome', 'Sera'];

            if(data.days.length === 7 && data.times.length === 3) {
                data.days = []; data.times = [];
                btn.classList.remove('selected');
                document.querySelectorAll('.day-btn, .time-btn').forEach(b => b.classList.remove('selected'));
            } else {
                data.days = [...allDays];
                data.times = [...allTimes];
                btn.classList.add('selected');
                document.querySelectorAll('.day-btn, .time-btn').forEach(b => b.classList.add('selected'));
            }
        }

        function validateAvailability() {
            if(data.days.length === 0 || data.times.length === 0) {
                return;
            }
            nextStep();
        }

        function sendWA() {
            data.name = document.getElementById('name').value;
            data.notes = document.getElementById('notes').value;
            if(!data.name) return;

            // Messaggio con intestazione richiesta
            let message = `*NUOVA RICHIESTA - BIAGIO CASTIGLIONE*\n\n`;
            message += `üë§ *Nome:* ${data.name}\n`;
            message += `üìè *Misura:* ${data.size}\n`;
            message += `üé® *Stile:* ${data.style}\n`;
            message += `‚ú® *Artista:* Biagio\n`;
            message += `üìÖ *Giorni:* ${data.days.join(', ')}\n`;
            message += `‚è∞ *Orari:* ${data.times.join(', ')}\n`;
            message += `üìù *Note:* ${data.notes || 'Nessuna'}`;

            const encodedText = encodeURIComponent(message);
            window.open(`https://wa.me/393347280140?text=${encodedText}`, '_blank');
        }
    </script>
</body>
</html>
